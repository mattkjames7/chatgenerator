# chatgenerator

Generate LLM conversations using Ollama API. The conversations are generated by
providing a random subject taken from a list of English wikipedia page titles,
then the agents take turns responding to each other.

Dataset can be found here: [https://huggingface.co/datasets/mattkjames7/chatgenerator-conversations-v1.0.0](https://huggingface.co/datasets/mattkjames7/chatgenerator-conversations-v1.0.0)

## Usage

This is not currently installable, but for the time being, create a virtual 
environment, then run from within this directory, e.g.
```bash
python3 -m venv env
source env/bin/activate
pip install -r requirements
ipython # this is what I use, you could just use the default python3 
```

Also, point the code to where it can store data:
```bash
export CHATGEN_PATH=/path/to/somewhere
```

### First Import

It will ask for an address to an Ollama API:
```python
import chatgenerator
Config not found
Enter Ollama host address (include port, usually 11434): 192.168.0.123:12345
Found Ollama API version 0.5.7
```

### Generate a Conversation

```python
chat = chatgenerator.generateMessages(
    subject="pizza",    # this is what they will attempt to talk about
    count=50            # this is the number of messages to generate 
)
```

### Generate Many Conversations

This will output a file for each conversation in `$CHATGEN_PATH/chats`:
```python
chatgenerator.generateChats(
    n=1000,             # the numbder of conversations
    count=50            # number of messages to generate 
)
```

### Combining Conversations

They can be combined into a single JSON file `$CHATGEN_PATH/chats.json`:
```python
chatgenerator.combineChats(
    filter=True,        # this doesn't do very much, yet
    n=2                 # number of messages to consider when filtering
)
```

### Upload to Huggingface

```python
chatgenerator.uploadChats(
    "username/reponame-v1.2.3", # name of the repo
    readme="hf-readme.md",      # file path of dataset readme (optional)
    private=False               # visibility on HF
)
```

### Loading from Huggingface

```python
import datasets
data = datasets.load_dataset("mattkjames7/chatgenerator-conversations-v1.0.0")
```